<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>áƒ¡áƒáƒ©áƒ£áƒ¥áƒáƒ áƒ˜ ğŸ’˜</title>
  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#1a0b2e;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.7);
      --accent: #ff4da6;
      --accent2:#7c4dff;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      min-height:100vh;
      overflow:hidden;
      background:
        radial-gradient(1200px 600px at 20% 20%, rgba(255,77,166,.25), transparent 60%),
        radial-gradient(1000px 700px at 80% 30%, rgba(124,77,255,.22), transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      position:relative;
    }

    .card{
      width:min(520px, 100%);
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,.04));
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      padding:22px;
      backdrop-filter: blur(10px);
      position:relative;
      overflow: visible;
    }
    .card::before{
      content:"";
      position:absolute; inset:-120px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.18), transparent 55%);
      transform: rotate(10deg);
      pointer-events:none;
    }

    h1{
      margin:0 0 8px 0;
      font-size:26px;
      letter-spacing:.2px;
      position:relative;
      z-index:1;
    }
    p{
      margin:0 0 18px 0;
      color:var(--muted);
      line-height:1.45;
      position:relative;
      z-index:1;
    }

    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      position:relative;
      z-index:2;
    }

    button{
      border:0;
      cursor:pointer;
      font-weight:700;
      padding:12px 16px;
      border-radius: 14px;
      transition: transform .12s ease, filter .12s ease, background .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active{ transform: translateY(1px) scale(.99); }

    .btn-yes{
      background: linear-gradient(135deg, var(--accent), #ff7ac8);
      color:#1b0820;
      flex:1 1 110px;
    }
    .btn-yes:hover{ filter:brightness(1.05); transform: translateY(-1px); }

    /* ĞŸĞ»Ğ°Ğ²Ğ°ÑÑ‰Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° ĞĞ•Ğ¢ */
    .btn-no-float{
  background: rgba(255,255,255,.10);
  color:var(--text);
  border:1px solid rgba(255,255,255,.18);
  position:fixed;
  left: 20px;
  top: 20px;
  z-index: 999999;
  min-width: 110px;  /* Ğ±Ñ‹Ğ»Ğ¾ 160px */
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  display:none;
}

    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:12px;
      position:relative;
      z-index:2;
      margin-top:6px;
    }
    .gift{
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      border-radius: 18px;
      padding:14px 12px;
      text-align:left;
      min-height:86px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .gift:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .emoji{ font-size:32px; width:42px; text-align:center; }
    .gtitle{ font-size:14px; margin:0; color:var(--text); }
    .gsub{ font-size:12px; margin:2px 0 0 0; color:var(--muted); font-weight:600; }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      position:relative;
      z-index:2;
      margin-bottom:10px;
    }
    .back{
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      color:var(--text);
      padding:10px 12px;
      border-radius: 14px;
      font-weight:800;
      min-width:48px;
    }

    .hidden{ display:none !important; }

    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:50;
    }
    .modal{
      width:min(720px, 100%);
      background: linear-gradient(180deg, var(--card2), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.18);
      border-radius: 22px;
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(10px);
    }
    .modal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.14);
    }
    .modal-title{
      margin:0;
      font-size:15px;
      letter-spacing:.2px;
    }
    .close{
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      padding:8px 10px;
      border-radius: 12px;
      font-weight:900;
    }
    .modal-body{ padding:16px; }
    .photos{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:10px;
    }
    .photos img{
      width:100%;
      height:320px;
      object-fit:cover;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
    }
    .letter{
      white-space:pre-wrap;
      line-height:1.55;
      color:var(--text);
      font-weight:650;
    }
    audio{ width:100%; margin-top:8px; }

    .hearts{
      position:absolute; inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart{
      position:absolute;
      opacity:.22;
      font-size:18px;
      animation: floatUp 10s linear infinite;
      filter: blur(.2px);
    }
    @keyframes floatUp{
      from{ transform: translateY(120vh) translateX(0); }
      to{ transform: translateY(-20vh) translateX(40px); }
    }
    .together{
  position: fixed;
  top: 14px;
  left: 14px;   /* Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ ÑĞ¿Ñ€Ğ°Ğ²Ğ° â€” Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸ Ğ½Ğ° right:14px; Ğ¸ ÑƒĞ´Ğ°Ğ»Ğ¸ left */
  z-index: 999999;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.18);
  color: rgba(255,255,255,.92);
  font-weight: 800;
  font-size: 13px;
  backdrop-filter: blur(8px);
  box-shadow: 0 12px 30px rgba(0,0,0,.25);
}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="together" id="together">áƒ”áƒ áƒ—áƒáƒ“ áƒ•áƒáƒ áƒ—: â€¦</div>
    <div class="hearts" id="hearts"></div>

    <!-- Ğ­ĞºÑ€Ğ°Ğ½ 1 -->
    <div class="card" id="screen1">
      <h1 id="title">áƒ—áƒáƒ—áƒáƒ¡ğŸ’ŸğŸ’–</h1>
      <p>áƒ’áƒ˜áƒœáƒ“áƒ áƒœáƒáƒ®áƒ áƒ¨áƒ”áƒœáƒ˜ 14 áƒ—áƒ”áƒ‘áƒ”áƒ áƒ•áƒšáƒ˜áƒ¡ áƒ¡áƒáƒ©áƒ£áƒ¥áƒáƒ áƒ˜?</p>

      <!-- Ğ¢ÑƒÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ”Ğ -->
      <div class="row">
        <button class="btn-yes" id="yesBtn">áƒ™áƒ˜</button>
      </div>

      <p style="margin-top:14px; font-size:12px; color:rgba(255,255,255,.55)">
        áƒáƒ áƒáƒ¡ áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜ áƒ¨áƒ”áƒœ áƒ’áƒ’áƒáƒ•áƒ¡ğŸ¤ª
      </p>
    </div>

    <!-- Ğ­ĞºÑ€Ğ°Ğ½ 2 -->
    <div class="card hidden" id="screen2">
      <div class="topbar">
        <div>
          <h1 style="margin:0 0 4px 0;">áƒ¡áƒáƒ©áƒ£áƒ¥áƒ áƒ”áƒ‘áƒ˜ ğŸ</h1>
          <p style="margin:0;">áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ áƒ¡.</p>
        </div>
        <button class="back" id="backToStart">â†©ï¸</button>
      </div>

      <div class="grid">
        <button class="gift" data-gift="flowers">
          <div class="emoji">ğŸŒ¸</div>
          <div>
            <p class="gtitle">áƒ§áƒ•áƒáƒ•áƒ˜áƒšáƒ”áƒ‘áƒ˜</p>
            <p class="gsub">áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒáƒ§áƒ•áƒáƒ áƒ”áƒšáƒ˜</p>
          </div>
        </button>

        <button class="gift" data-gift="memories">
          <div class="emoji">ğŸ“¸</div>
          <div>
            <p class="gtitle">áƒ›áƒáƒ’áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜</p>
            <p class="gsub">3 áƒ¤áƒáƒ¢áƒ</p>
          </div>
        </button>

        <button class="gift" data-gift="letter">
          <div class="emoji">ğŸ’Œ</div>
          <div>
            <p class="gtitle">áƒ¬áƒ”áƒ áƒ˜áƒšáƒ˜</p>
            <p class="gsub">áƒ—áƒ£ áƒ áƒáƒ’áƒáƒ  áƒ›áƒ˜áƒ§áƒ•áƒáƒ áƒ®áƒáƒ </p>
          </div>
        </button>

        <button class="gift" data-gift="music">
          <div class="emoji">ğŸµ</div>
          <div>
            <p class="gtitle">áƒ¡áƒ˜áƒ›áƒ¦áƒ”áƒ áƒ</p>
            <p class="gsub">áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¨áƒ”áƒœáƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ›áƒáƒ®áƒ¡áƒ”áƒœáƒ”áƒ‘áƒ¡</p>
          </div>
        </button>
      </div>
    </div>

    <!-- ĞœĞ¾Ğ´Ğ°Ğ»ĞºĞ° -->
    <div class="overlay hidden" id="overlay">
      <div class="modal">
        <div class="modal-head">
          <h3 class="modal-title" id="modalTitle">áƒ¡áƒáƒ©áƒ£áƒ¥áƒáƒ áƒ˜</h3>
          <button class="close" id="closeModal">âœ•</button>
        </div>
        <div class="modal-body" id="modalBody"></div>
      </div>
    </div>
  </div>

  <!-- ĞŸĞ›ĞĞ’ĞĞ®Ğ©Ğ˜Ğ™ ĞĞ•Ğ¢ (Ğ²Ğ½Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸!) -->
  <button class="btn-no-float" id="noFloat">áƒáƒ áƒ</button>

<script>
  // ====== Ğ¸Ğ¼Ñ Ğ¸Ğ· ?name= ======
  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  const title = document.getElementById("title");
  if (name && name.trim()) title.textContent = `ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ${name.trim()} ğŸ’–`;

  // ====== ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ¸ ======
  const hearts = document.getElementById("hearts");
  const heartEmojis = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’"];
  for (let i=0;i<18;i++){
    const s = document.createElement("div");
    s.className = "heart";
    s.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
    s.style.left = Math.random()*100 + "vw";
    s.style.animationDuration = (7 + Math.random()*7) + "s";
    s.style.fontSize = (14 + Math.random()*18) + "px";
    s.style.animationDelay = (-Math.random()*10) + "s";
    hearts.appendChild(s);
  }

  // ====== ÑĞºÑ€Ğ°Ğ½Ñ‹ ======
  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const yesBtn = document.getElementById("yesBtn");
  const backToStart = document.getElementById("backToStart");

  // Ğ¿Ğ»Ğ°Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ ĞĞ•Ğ¢
  const noFloat = document.getElementById("noFloat");
  noFloat.style.display = "block";

  // âœ… FIX: ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° "ĞĞ•Ğ¢" ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ²Ğ¾Ğ·Ğ»Ğµ "Ğ”Ğ", Ğ° ÑƒĞ±ĞµĞ³Ğ°Ñ‚ÑŒ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ
  let noEscapedOnce = false;

  function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

  // âœ… FIX: Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ñ€ÑĞ´Ğ¾Ğ¼ Ñ "Ğ”Ğ"
  function placeNoNearYes(){
    const r = yesBtn.getBoundingClientRect();
    const pad = 10;
    const w = noFloat.offsetWidth || 160;
    const h = noFloat.offsetHeight || 44;

    let x = r.left - w - pad;
    let y = r.top + (r.height - h) / 2;

    if (x < 10) x = r.right + pad; // ÑĞ´Ğ²Ğ¸Ğ³ Ğ²Ğ»ĞµĞ²Ğ¾ Ğ½Ğ° 40px; // ĞµÑĞ»Ğ¸ ÑĞ»ĞµĞ²Ğ° Ğ½Ğµ Ğ¿Ğ¾Ğ¼ĞµÑ‰Ğ°ĞµÑ‚ÑÑ â€” ÑĞ¿Ñ€Ğ°Ğ²Ğ°

    const maxX = window.innerWidth - w - 10;
    const maxY = window.innerHeight - h - 10;

    x = clamp(x, 10, maxX);
    y = clamp(y, 10, maxY);

    noFloat.style.left = (x - 38) + "px";
    noFloat.style.top  = y + "px";
  }

  function spawnNo(){
    const pad = 12;
    const w = noFloat.offsetWidth || 160;
    const h = noFloat.offsetHeight || 44;

    const maxX = window.innerWidth - w - pad;
    const maxY = window.innerHeight - h - pad;

    const zone = Math.floor(Math.random()*4);
    let x=pad, y=pad;

    if(zone===0){
      x = pad + Math.random()*maxX;
      y = pad + Math.random()*90;
    } else if(zone===1){
      x = pad + Math.random()*maxX;
      y = maxY - Math.random()*90;
    } else if(zone===2){
      x = pad + Math.random()*90;
      y = pad + Math.random()*maxY;
    } else {
      x = maxX - Math.random()*90;
      y = pad + Math.random()*maxY;
    }

    x = clamp(x, pad, maxX);
    y = clamp(y, pad, maxY);

    noFloat.style.left = x + "px";
    noFloat.style.top  = y + "px";

    noFloat.animate(
      [{ transform: "scale(0.96)" }, { transform: "scale(1)" }],
      { duration: 140, easing: "ease-out" }
    );
  }

  // âœ… FIX: ÑÑ‚Ğ°Ñ€Ñ‚ â€” ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼ Ñ€ÑĞ´Ğ¾Ğ¼ Ñ "Ğ”Ğ" (Ğ¸ ĞĞ• Ñ€Ğ°Ğ½Ğ´Ğ¾Ğ¼Ğ¸Ğ¼)
  requestAnimationFrame(()=> placeNoNearYes());

  yesBtn.addEventListener("click", () => {
    screen1.classList.add("hidden");
    screen2.classList.remove("hidden");
    noFloat.style.display = "none";
  });

  backToStart.addEventListener("click", () => {
    screen2.classList.add("hidden");
    screen1.classList.remove("hidden");
    noFloat.style.display = "block";
    // âœ… FIX: Ğ¿Ñ€Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğµ Ğ½Ğ° ÑÑ‚Ğ°Ñ€Ñ‚ ÑĞ½Ğ¾Ğ²Ğ° ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼ Ñ€ÑĞ´Ğ¾Ğ¼ Ñ "Ğ”Ğ"
    requestAnimationFrame(()=> placeNoNearYes());
    noEscapedOnce = false; // âœ… FIX: ÑĞ½Ğ¾Ğ²Ğ° "Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ñ€Ğ°Ğ·"
  });

  // âœ… FIX: ÑƒĞ±ĞµĞ³Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ
  function onNoAttempt(e){
    e.preventDefault();
    e.stopPropagation();

    if (!noEscapedOnce){
      noEscapedOnce = true;
      spawnNo(); // Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ñ€Ğ°Ğ· â€” ÑÑ€Ğ°Ğ·Ñƒ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ Ğ¶Ğ¸Ğ·Ğ½ÑŒ
      return;
    }
    spawnNo();
  }

  noFloat.addEventListener("touchstart", onNoAttempt, {passive:false});
  noFloat.addEventListener("click", onNoAttempt);

  // âœ… FIX: Ğ¿Ñ€Ğ¸ Ñ€ĞµÑĞ°Ğ¹Ğ·Ğµ â€” ĞµÑĞ»Ğ¸ ĞµÑ‰Ñ‘ Ğ½Ğµ ÑƒĞ±ĞµĞ³Ğ°Ğ», Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼ Ğ²Ğ¾Ğ·Ğ»Ğµ "Ğ”Ğ", Ğ¸Ğ½Ğ°Ñ‡Ğµ Ğ¿ĞµÑ€ĞµÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ñ€Ğ°Ğ½Ğ´Ğ¾Ğ¼
  window.addEventListener("resize", ()=>{
    if(noFloat.style.display === "none") return;
    if(!noEscapedOnce) placeNoNearYes();
    else spawnNo();
  });

  // ====== Ğ¼Ğ¾Ğ´Ğ°Ğ»ĞºĞ° ======
  const overlay = document.getElementById("overlay");
  const modalTitle = document.getElementById("modalTitle");
  const modalBody = document.getElementById("modalBody");
  const closeModal = document.getElementById("closeModal");

  function openModal(t, html){
    modalTitle.textContent = t;
    modalBody.innerHTML = html;
    overlay.classList.remove("hidden");
  }
  function hideModal(){
    overlay.classList.add("hidden");
    modalBody.innerHTML = "";
  }
  closeModal.addEventListener("click", hideModal);
  overlay.addEventListener("click", (e)=>{ if(e.target===overlay) hideModal(); });

  // ====== ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ ======
  const content = {
    flowers: {
      title: "Ğ¦Ğ²ĞµÑ‚Ñ‹ ğŸŒ¸",
      html: `
        <p style="margin-top:0;color:rgba(255,255,255,.75)">áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒáƒ§áƒ•áƒáƒ áƒ”áƒšáƒ˜ áƒ§áƒ•áƒáƒ•áƒ˜áƒšáƒ˜.</p>
        <div class="photos" style="grid-template-columns:1fr;">
          <img src="assets/b70c6708-80fd-4bbf-877b-03e2a1f1b74b.jpg" alt="flowers">
        </div>
      `
    },
    memories: {
      title: "ĞĞ°ÑˆĞ¸ Ğ²Ğ¾ÑĞ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ ğŸ“¸",
      html: `
        <p style="margin-top:0;color:rgba(255,255,255,.75)">áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜ áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ›áƒ˜áƒ§áƒ•áƒáƒ áƒ¡.</p>
        <div class="photos">
          <img src="assets/10a29ae3-e0e8-423e-9295-5de488dac1e1.jpg" alt="memory 1">
          <img src="assets/89dac9f5-13e9-47a3-822e-2c09fcd52adb.jpg" alt="memory 2">
          <img src="assets/a1b66de5-38c0-4a28-b52f-f04d0e62c0db.jpg" alt="memory 3">
        </div>
      `
    },
    letter: {
      title: "ĞŸĞ¸ÑÑŒĞ¼Ğ¾ ğŸ’Œ",
      html: `
        <div class="letter">
Ğ¯ Ğ»ÑĞ±Ğ»Ñ Ñ‚ĞµĞ±Ñ Ğ·Ğ° Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ Ñ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹ Ğ´Ğ°Ğ¶Ğµ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¾Ğ¼.
Ğ¢Ñ‹ â€” Ğ¼Ğ¾Ğ¹ ÑƒÑÑ‚, Ğ¼Ğ¾Ğ¹ ÑĞ¼ĞµÑ… Ğ¸ Ğ¼Ğ¾Ñ Ğ¼Ğ¾Ñ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ.
Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾, Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ ĞµÑÑ‚ÑŒ. ğŸ’–

(Ñ‚ÑƒÑ‚ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸ Ñ‚ĞµĞºÑÑ‚ Ğ½Ğ° ÑĞ²Ğ¾Ğ¹)
        </div>
      `
    },
    music: {
      title: "ĞœÑƒĞ·Ñ‹ĞºĞ° ğŸµ",
      html: `
        <p style="margin-top:0;color:rgba(255,255,255,.75)">
          â¬‡ áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ©áƒáƒ áƒ—áƒ•áƒáƒ¡ 
        </p>
        <audio controls>
          <source src="assets/song.mp3" type="audio/mpeg">
          Ğ¢Ğ²Ğ¾Ğ¹ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ°ÑƒĞ´Ğ¸Ğ¾.
        </audio>
      `
    }
  };

  document.querySelectorAll(".gift").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const key = btn.dataset.gift;
      openModal(content[key].title, content[key].html);
    });
  });
  const startDate = new Date(2024, 4, 26, 0, 0, 0); // 26 Ğ¼Ğ°Ñ 2024 (Ğ¼ĞµÑÑÑ† 0=ÑĞ½Ğ², 4=Ğ¼Ğ°Ğ¹)
const togetherEl = document.getElementById("together");

function pad2(n){ return String(n).padStart(2,"0"); }
function daysInMonth(y, m){ return new Date(y, m + 1, 0).getDate(); }

function diffYMDHMS(from, to){
  // ĞºĞ¾Ğ¿Ğ¸Ğ¸ Ğ´Ğ°Ñ‚
  let y = to.getFullYear() - from.getFullYear();
  let mo = to.getMonth() - from.getMonth();
  let d = to.getDate() - from.getDate();
  let h = to.getHours() - from.getHours();
  let mi = to.getMinutes() - from.getMinutes();
  let s = to.getSeconds() - from.getSeconds();

  if (s < 0){ s += 60; mi -= 1; }
  if (mi < 0){ mi += 60; h -= 1; }
  if (h < 0){ h += 24; d -= 1; }

  if (d < 0){
    // Ğ±ĞµÑ€Ñ‘Ğ¼ Ğ´Ğ½Ğ¸ Ğ¸Ğ· Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ³Ğ¾ Ğ¼ĞµÑÑÑ†Ğ° Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ´Ğ°Ñ‚Ñ‹ "to"
    let pm = to.getMonth() - 1;
    let py = to.getFullYear();
    if (pm < 0){ pm = 11; py -= 1; }
    d += daysInMonth(py, pm);
    mo -= 1;
  }

  if (mo < 0){ mo += 12; y -= 1; }
  if (y < 0) y = 0;

  return { y, mo, d, h, mi, s };
}

function updateTogether(){
  const now = new Date();
  let from = startDate;
  let to = now;

  if (to < from){
    togetherEl.textContent = "áƒ”áƒ áƒ—áƒáƒ“ áƒ•áƒáƒ áƒ—: 0 Ğ»ĞµÑ‚ 0 Ğ¼ĞµÑ 0 Ğ´Ğ½ 00:00:00";
    return;
  }

  const t = diffYMDHMS(from, to);

  togetherEl.textContent =
    `áƒ”áƒ áƒ—áƒáƒ“ áƒ•áƒáƒ áƒ—: ${t.y} Ğ³ ${t.mo} Ğ¼ĞµÑ ${t.d} Ğ´Ğ½ ${pad2(t.h)}:${pad2(t.mi)}:${pad2(t.s)}`;
}

updateTogether();
setInterval(updateTogether, 1000);
</script>
</body>
</html>
